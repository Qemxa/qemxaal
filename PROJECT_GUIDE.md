# QEMXA - рЃАрЃарЃБрЃџрЃў рЃърЃарЃЮрЃћрЃЦрЃбрЃўрЃА рЃљрЃдрЃгрЃћрЃарЃљ рЃЊрЃљ рЃњрЃљрЃерЃЋрЃћрЃЉрЃўрЃА рЃўрЃюрЃАрЃбрЃарЃБрЃЦрЃфрЃўрЃљ

## 1. рЃърЃарЃЮрЃћрЃЦрЃбрЃўрЃА рЃЏрЃўрЃЏрЃЮрЃ«рЃўрЃџрЃЋрЃљ

### рЃарЃљ рЃљрЃарЃўрЃА QEMXA?
QEMXA рЃљрЃарЃўрЃА рЃўрЃюрЃЮрЃЋрЃљрЃфрЃўрЃБрЃарЃў рЃЋрЃћрЃЉ-рЃљрЃърЃџрЃўрЃЎрЃљрЃфрЃўрЃљ, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃљрЃћрЃарЃЌрЃўрЃљрЃюрЃћрЃЉрЃА рЃ«рЃћрЃџрЃЮрЃЋрЃюрЃБрЃа рЃўрЃюрЃбрЃћрЃџрЃћрЃЦрЃбрЃА (AI) рЃЊрЃљ рЃљрЃЋрЃбрЃЮрЃЏрЃЮрЃЉрЃўрЃџрЃћрЃЉрЃўрЃА рЃЊрЃўрЃљрЃњрЃюрЃЮрЃАрЃбрЃўрЃЎрЃўрЃА рЃАрЃцрЃћрЃарЃЮрЃА. рЃўрЃА рЃгрЃљрЃарЃЏрЃЮрЃљрЃЊрЃњрЃћрЃюрЃА рЃћрЃарЃЌрЃўрЃљрЃю рЃърЃџрЃљрЃбрЃцрЃЮрЃарЃЏрЃљрЃА, рЃАрЃљрЃЊрЃљрЃф рЃЏрЃФрЃдрЃЮрЃџрЃћрЃЉрЃА рЃерЃћрЃБрЃФрЃџрЃўрЃљрЃЌ рЃЏрЃўрЃўрЃдрЃЮрЃю AI-рЃќрЃћ рЃЊрЃљрЃцрЃБрЃФрЃюрЃћрЃЉрЃБрЃџрЃў рЃарЃЕрЃћрЃЋрЃћрЃЉрЃў рЃЏрЃљрЃюрЃЦрЃљрЃюрЃўрЃА рЃърЃарЃЮрЃЉрЃџрЃћрЃЏрЃћрЃЉрЃўрЃА рЃерЃћрЃАрЃљрЃ«рЃћрЃЉ, рЃ«рЃЮрЃџрЃЮ рЃљрЃЋрЃбрЃЮ-рЃАрЃћрЃарЃЋрЃўрЃАрЃћрЃЉрЃАрЃљ рЃЊрЃљ рЃюрЃљрЃгрЃўрЃџрЃћрЃЉрЃўрЃА рЃЏрЃљрЃдрЃљрЃќрЃўрЃћрЃЉрЃА Рђћ рЃАрЃљрЃЎрЃБрЃЌрЃљрЃарЃў рЃърЃарЃЮрЃЊрЃБрЃЦрЃбрЃћрЃЉрЃўрЃАрЃљ рЃЊрЃљ рЃАрЃћрЃарЃЋрЃўрЃАрЃћрЃЉрЃўрЃА рЃерЃћрЃЌрЃљрЃЋрЃљрЃќрЃћрЃЉрЃљ.

### рЃФрЃўрЃарЃўрЃЌрЃљрЃЊрЃў рЃцрЃБрЃюрЃЦрЃфрЃўрЃЮрЃюрЃљрЃџрЃў
-   **AI рЃЊрЃўрЃљрЃњрЃюрЃЮрЃАрЃбрЃўрЃЎрЃљ:** рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃџрЃћрЃЉрЃА рЃерЃћрЃБрЃФрЃџрЃўрЃљрЃЌ рЃљрЃдрЃгрЃћрЃарЃЮрЃю рЃърЃарЃЮрЃЉрЃџрЃћрЃЏрЃљ рЃбрЃћрЃЦрЃАрЃбрЃБрЃарЃљрЃЊ рЃљрЃю рЃљрЃбрЃЋрЃўрЃарЃЌрЃЮрЃю рЃАрЃБрЃарЃљрЃЌрЃў, рЃарЃљрЃќрЃћрЃф Gemini AI рЃЏрЃЮрЃЊрЃћрЃџрЃў рЃљрЃњрЃћрЃюрЃћрЃарЃўрЃарЃћрЃЉрЃА рЃАрЃљрЃЋрЃљрЃарЃљрЃБрЃЊрЃЮ рЃЊрЃўрЃљрЃњрЃюрЃЮрЃќрЃА рЃЊрЃљ рЃарЃћрЃЎрЃЮрЃЏрЃћрЃюрЃЊрЃљрЃфрЃўрЃћрЃЉрЃА.
-   **рЃърЃљрЃарЃбрЃюрЃўрЃЮрЃарЃћрЃЉрЃўрЃА рЃърЃЮрЃарЃбрЃљрЃџрЃў:** рЃАрЃћрЃарЃЋрЃўрЃА рЃфрЃћрЃюрЃбрЃарЃћрЃЉрЃА рЃЊрЃљ рЃЏрЃљрЃдрЃљрЃќрЃўрЃћрЃЉрЃА рЃерЃћрЃБрЃФрЃџрЃўрЃљрЃЌ рЃерЃћрЃЦрЃЏрЃюрЃљрЃю рЃАрЃљрЃЎрЃБрЃЌрЃљрЃарЃў рЃърЃарЃЮрЃцрЃўрЃџрЃћрЃЉрЃў, рЃЊрЃљрЃљрЃЏрЃљрЃбрЃЮрЃю рЃърЃарЃЮрЃЊрЃБрЃЦрЃбрЃћрЃЉрЃў/рЃАрЃћрЃарЃЋрЃўрЃАрЃћрЃЉрЃў рЃЊрЃљ рЃњрЃљрЃЏрЃЮрЃЕрЃюрЃЊрЃюрЃћрЃю AI-рЃА рЃарЃћрЃЎрЃЮрЃЏрЃћрЃюрЃЊрЃљрЃфрЃўрЃћрЃЉрЃерЃў.
-   **рЃцрЃљрЃАрЃўрЃљрЃюрЃў рЃърЃљрЃЎрЃћрЃбрЃћрЃЉрЃў:** рЃљрЃърЃџрЃўрЃЎрЃљрЃфрЃўрЃљрЃА рЃљрЃЦрЃЋрЃА рЃЏрЃарЃљрЃЋрЃљрЃџрЃЊрЃЮрЃюрЃўрЃљрЃюрЃў рЃцрЃљрЃАрЃўрЃљрЃюрЃў рЃАрЃўрЃАрЃбрЃћрЃЏрЃљ (Free, Premium, Platinum) рЃарЃЮрЃњрЃЮрЃарЃф рЃЏрЃФрЃдрЃЮрЃџрЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА, рЃљрЃАрЃћрЃЋрЃћ рЃърЃљрЃарЃбрЃюрЃўрЃЮрЃарЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА, Stripe-рЃўрЃА рЃўрЃюрЃбрЃћрЃњрЃарЃљрЃфрЃўрЃўрЃЌ.
-   **рЃЌрЃћрЃЏрЃўрЃА рЃърЃћрЃарЃАрЃЮрЃюрЃљрЃџрЃўрЃќрЃљрЃфрЃўрЃљ:** рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃћрЃџрЃА рЃерЃћрЃБрЃФрЃџрЃўрЃљ рЃљрЃўрЃарЃЕрЃўрЃЮрЃА рЃљрЃърЃџрЃўрЃЎрЃљрЃфрЃўрЃўрЃА рЃЋрЃўрЃќрЃБрЃљрЃџрЃБрЃарЃў рЃАрЃбрЃўрЃџрЃў (рЃюрЃљрЃЌрЃћрЃџрЃў, рЃЏрЃБрЃЦрЃў рЃЊрЃљ рЃљ.рЃе.), рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃўрЃюрЃљрЃ«рЃћрЃЉрЃљ рЃџрЃЮрЃЎрЃљрЃџрЃБрЃа рЃЏрЃћрЃ«рЃАрЃўрЃћрЃарЃћрЃЉрЃљрЃерЃў.

### рЃбрЃћрЃЦрЃюрЃЮрЃџрЃЮрЃњрЃўрЃБрЃарЃў рЃљрЃарЃЦрЃўрЃбрЃћрЃЦрЃбрЃБрЃарЃљ
-   **Frontend:** React, TypeScript, Tailwind CSS.
-   **Backend (Serverless Functions):** Netlify Functions (Node.js).
-   **рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃЌрЃљ рЃЉрЃљрЃќрЃљ рЃЊрЃљ рЃљрЃЋрЃЌрЃћрЃюрЃбрЃўрЃцрЃўрЃЎрЃљрЃфрЃўрЃљ:** Supabase (PostgreSQL).

---

## 2. рЃърЃарЃЮрЃћрЃЦрЃбрЃўрЃА рЃарЃћрЃљрЃџрЃБрЃарЃљрЃЊ рЃњрЃљрЃерЃЋрЃћрЃЉрЃўрЃА рЃўрЃюрЃАрЃбрЃарЃБрЃЦрЃфрЃўрЃљ (Deployment Guide)

рЃЏрЃўрЃ░рЃДрЃћрЃЋрЃўрЃЌ рЃљрЃЏ рЃюрЃљрЃЉрЃўрЃ»рЃћрЃЉрЃА, рЃарЃЮрЃЏ рЃърЃарЃЮрЃћрЃЦрЃбрЃў рЃљрЃбрЃЋрЃўрЃарЃЌрЃЮрЃЌ рЃўрЃюрЃбрЃћрЃарЃюрЃћрЃбрЃерЃў рЃЊрЃљ рЃАрЃарЃБрЃџрЃљрЃЊ рЃњрЃљрЃљрЃљрЃЦрЃбрЃўрЃБрЃарЃЮрЃЌ рЃДрЃЋрЃћрЃџрЃљ рЃцрЃБрЃюрЃЦрЃфрЃўрЃљ.

### рЃюрЃљрЃЉрЃўрЃ»рЃў 0: рЃЏрЃЮрЃАрЃљрЃЏрЃќрЃљрЃЊрЃћрЃЉрЃћрЃџрЃў рЃћрЃбрЃљрЃърЃў (рЃљрЃюрЃњрЃљрЃарЃўрЃерЃћрЃЉрЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃљ)

рЃЊрЃљрЃарЃгрЃЏрЃБрЃюрЃЊрЃўрЃЌ, рЃарЃЮрЃЏ рЃњрЃљрЃЦрЃЋрЃЌ рЃљрЃюрЃњрЃљрЃарЃўрЃерЃћрЃЉрЃў рЃерЃћрЃЏрЃЊрЃћрЃњ рЃАрЃћрЃарЃЋрЃўрЃАрЃћрЃЉрЃќрЃћ:
1.  **[GitHub](https://github.com/):** рЃЎрЃЮрЃЊрЃўрЃА рЃерЃћрЃАрЃљрЃюрЃљрЃ«рЃљрЃЊ.
2.  **[Netlify](https://www.netlify.com/):** рЃ░рЃЮрЃАрЃбрЃўрЃюрЃњрЃўрЃАрЃЌрЃЋрЃўрЃА.
3.  **[Supabase](https://supabase.com/):** рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃЌрЃљ рЃЉрЃљрЃќрЃўрЃАрЃЌрЃЋрЃўрЃА.
4.  **[Stripe](https://stripe.com/):** рЃњрЃљрЃЊрЃљрЃ«рЃЊрЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА.
5.  **[Google AI Studio](https://aistudio.google.com/):** Gemini API-рЃА рЃњрЃљрЃАрЃљрЃдрЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА.

### рЃюрЃљрЃЉрЃўрЃ»рЃў 1: Supabase-рЃўрЃА рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃљ (рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃЌрЃљ рЃЉрЃљрЃќрЃљ)

1.  **рЃерЃћрЃЦрЃЏрЃћрЃюрЃўрЃЌ рЃърЃарЃЮрЃћрЃЦрЃбрЃў:** рЃерЃћрЃЊрЃўрЃЌ Supabase-рЃќрЃћ рЃЊрЃљ рЃерЃћрЃЦрЃЏрЃћрЃюрЃўрЃЌ рЃљрЃ«рЃљрЃџрЃў рЃърЃарЃЮрЃћрЃЦрЃбрЃў.
2.  **рЃерЃћрЃЦрЃЏрЃћрЃюрЃўрЃЌ рЃфрЃ«рЃарЃўрЃџрЃћрЃЉрЃў:** рЃърЃарЃЮрЃћрЃЦрЃбрЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ, рЃњрЃљрЃЊрЃљрЃЊрЃўрЃЌ **SQL Editor**-рЃќрЃћ, рЃЊрЃљрЃљрЃЎрЃЮрЃърЃўрЃарЃћрЃЌ рЃЊрЃљ рЃњрЃљрЃБрЃерЃЋрЃўрЃЌ рЃЦрЃЋрЃћрЃЏрЃЮрЃЌ рЃЏрЃЮрЃфрЃћрЃЏрЃБрЃџрЃў SQL рЃЎрЃЮрЃЊрЃў.

    ```sql
    -- 1. рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃџрЃћрЃЉрЃўрЃА рЃърЃарЃЮрЃцрЃўрЃџрЃћрЃЉрЃўрЃА рЃфрЃ«рЃарЃўрЃџрЃў
    CREATE TABLE profiles (
        id UUID PRIMARY KEY REFERENCES auth.users(id) ON DELETE CASCADE,
        tier TEXT NOT NULL DEFAULT 'free',
        dailyUsage JSONB NOT NULL DEFAULT '{"date": "2024-01-01", "count": 0}',
        stripe_customer_id TEXT UNIQUE,
        updated_at TIMESTAMPTZ DEFAULT NOW()
    );
    
    -- Note: The trigger for creating a profile on new user signup has been removed.
    -- Profile creation is now handled by the application code to prevent race conditions.
    -- Row Level Security must be enabled and an INSERT policy must be added.

    ALTER TABLE profiles ENABLE ROW LEVEL SECURITY;
    CREATE POLICY "Users can view their own profile." ON profiles FOR SELECT USING (auth.uid() = id);
    CREATE POLICY "Users can update their own profile." ON profiles FOR UPDATE USING (auth.uid() = id);
    CREATE POLICY "Users can create their own profile." ON profiles FOR INSERT WITH CHECK (auth.uid() = id);


    -- 2. рЃЏрЃљрЃюрЃЦрЃљрЃюрЃћрЃЉрЃўрЃА рЃфрЃ«рЃарЃўрЃџрЃў
    CREATE TABLE vehicles (
        vin TEXT PRIMARY KEY,
        user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
        brand TEXT NOT NULL,
        model TEXT NOT NULL,
        year INT NOT NULL,
        created_at TIMESTAMPTZ DEFAULT NOW()
    );
    ALTER TABLE vehicles ENABLE ROW LEVEL SECURITY;
    CREATE POLICY "Users can manage their own vehicles." ON vehicles FOR ALL USING (auth.uid() = user_id);

    -- 3. рЃЕрЃљрЃбрЃћрЃЉрЃўрЃА рЃфрЃ«рЃарЃўрЃџрЃў
    CREATE TABLE chats (
        vin TEXT PRIMARY KEY REFERENCES vehicles(vin) ON DELETE CASCADE,
        user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
        messages JSONB NOT NULL,
        serviceHistory JSONB,
        updated_at TIMESTAMPTZ DEFAULT NOW()
    );
    ALTER TABLE chats ENABLE ROW LEVEL SECURITY;
    CREATE POLICY "Users can manage chats for their vehicles." ON chats FOR ALL USING (auth.uid() = user_id);

    -- 4. рЃърЃљрЃарЃбрЃюрЃўрЃЮрЃарЃћрЃЉрЃўрЃА рЃърЃарЃЮрЃцрЃўрЃџрЃћрЃЉрЃўрЃА рЃфрЃ«рЃарЃўрЃџрЃў
    CREATE TABLE partner_profiles (
        id TEXT PRIMARY KEY,
        user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
        name TEXT NOT NULL,
        type TEXT NOT NULL,
        tier TEXT NOT NULL DEFAULT 'free',
        description TEXT,
        address TEXT,
        phone TEXT,
        products JSONB,
        services JSONB,
        stripe_customer_id TEXT UNIQUE,
        created_at TIMESTAMPTZ DEFAULT NOW(),
        updated_at TIMESTAMPTZ DEFAULT NOW()
    );
    ALTER TABLE partner_profiles ENABLE ROW LEVEL SECURITY;
    CREATE POLICY "Partners can manage their own profiles." ON partner_profiles FOR ALL USING (auth.uid() = user_id);
    CREATE POLICY "All users can view partner profiles." ON partner_profiles FOR SELECT USING (true);
    ```

3.  **рЃљрЃўрЃдрЃћрЃЌ API рЃњрЃљрЃАрЃљрЃдрЃћрЃЉрЃћрЃЉрЃў:**
    -   рЃњрЃљрЃЊрЃљрЃЊрЃўрЃЌ **Project Settings > API**.
    -   **Project URL:** рЃЊрЃљрЃљрЃЎрЃЮрЃърЃўрЃарЃћрЃЌ.
    -   **Project API Keys > `anon` `public`:** рЃЊрЃљрЃљрЃЎрЃЮрЃърЃўрЃарЃћрЃЌ рЃћрЃА рЃњрЃљрЃАрЃљрЃдрЃћрЃЉрЃў.
    -   **Project API Keys > `service_role` `secret`:** рЃЊрЃљрЃљрЃЎрЃЮрЃърЃўрЃарЃћрЃЌ рЃћрЃА рЃњрЃљрЃАрЃљрЃдрЃћрЃЉрЃў. **рЃћрЃА рЃљрЃарЃўрЃА рЃАрЃљрЃўрЃЊрЃБрЃЏрЃџрЃЮ!**

4.  **рЃерЃћрЃљрЃЋрЃАрЃћрЃЌ рЃњрЃљрЃАрЃљрЃдрЃћрЃЉрЃћрЃЉрЃў рЃЎрЃЮрЃЊрЃерЃў:**
    - рЃњрЃљрЃ«рЃАрЃћрЃюрЃўрЃЌ рЃцрЃљрЃўрЃџрЃў: `services/supabaseService.ts`
    - рЃЕрЃљрЃљрЃюрЃљрЃфрЃЋрЃџрЃћрЃЌ `supabaseUrl` рЃЊрЃљ `supabaseAnonKey` рЃфрЃЋрЃџрЃљрЃЊрЃћрЃЉрЃўрЃА рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЉрЃћрЃЉрЃў рЃЌрЃЦрЃЋрЃћрЃюрЃў Supabase-рЃўрЃА рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃћрЃЉрЃўрЃЌ.

### рЃюрЃљрЃЉрЃўрЃ»рЃў 2: Stripe-рЃўрЃА рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃљ (рЃњрЃљрЃЊрЃљрЃ«рЃЊрЃћрЃЉрЃў)

1.  **рЃърЃарЃЮрЃЊрЃБрЃЦрЃбрЃћрЃЉрЃў рЃЊрЃљ рЃцрЃљрЃАрЃћрЃЉрЃў:**
    -   рЃерЃћрЃЊрЃўрЃЌ Stripe Dashboard-рЃќрЃћ рЃЊрЃљ рЃерЃћрЃЦрЃЏрЃћрЃюрЃўрЃЌ 2 рЃърЃарЃЮрЃЊрЃБрЃЦрЃбрЃў: `QEMXA - User Subscription` рЃЊрЃљ `QEMXA - Partner Subscription`.
    -   рЃЌрЃўрЃЌрЃЮрЃћрЃБрЃџ рЃърЃарЃЮрЃЊрЃБрЃЦрЃбрЃА рЃЊрЃљрЃљрЃЏрЃљрЃбрЃћрЃЌ `Premium` рЃЊрЃљ `Platinum` рЃцрЃљрЃАрЃћрЃЉрЃў (Price). рЃЊрЃљрЃарЃгрЃЏрЃБрЃюрЃЊрЃўрЃЌ, рЃарЃЮрЃЏ рЃцрЃљрЃАрЃў рЃљрЃарЃўрЃА **Recurring** (рЃДрЃЮрЃЋрЃћрЃџрЃЌрЃЋрЃўрЃБрЃарЃў).
    -   рЃЌрЃўрЃЌрЃЮрЃћрЃБрЃџрЃў рЃцрЃљрЃАрЃўрЃАрЃЌрЃЋрЃўрЃА рЃЊрЃљрЃљрЃЎрЃЮрЃърЃўрЃарЃћрЃЌ рЃЏрЃўрЃАрЃў **API ID** (рЃЏрЃљрЃњ: `price_1Pj...`).
2.  **API рЃњрЃљрЃАрЃљрЃдрЃћрЃЉрЃћрЃЉрЃў:**
    -   рЃњрЃљрЃЊрЃљрЃЊрЃўрЃЌ **Developers > API keys**.
    -   рЃЊрЃљрЃљрЃЎрЃЮрЃърЃўрЃарЃћрЃЌ **Secret key**. **рЃћрЃА рЃљрЃарЃўрЃА рЃАрЃљрЃўрЃЊрЃБрЃЏрЃџрЃЮ!**
3.  **Webhook-рЃўрЃА рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃљ:**
    -   рЃњрЃљрЃЊрЃљрЃЊрЃўрЃЌ **Developers > Webhooks > Add an endpoint**.
    -   **Endpoint URL:** рЃљрЃЏрЃљрЃА рЃерЃћрЃљрЃЋрЃАрЃћрЃЉрЃЌ рЃЏрЃЮрЃњрЃЋрЃўрЃљрЃюрЃћрЃЉрЃўрЃЌ, Netlify-рЃА рЃЏрЃўрЃАрЃљрЃЏрЃљрЃарЃЌрЃўрЃА рЃЏрЃўрЃдрЃћрЃЉрЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ. рЃцрЃЮрЃарЃЏрЃљрЃбрЃў: `https://YOUR_NETLIFY_SITE.netlify.app/.netlify/functions/stripe-webhook`
    -   **Listen to events:** рЃљрЃўрЃарЃЕрЃўрЃћрЃЌ: `checkout.session.completed` рЃЊрЃљ `customer.subscription.deleted`.
    -   рЃЊрЃљрЃљрЃГрЃўрЃарЃћрЃЌ **Add endpoint**. рЃњрЃљрЃ«рЃАрЃюрЃўрЃџ рЃњрЃЋрЃћрЃарЃЊрЃќрЃћ рЃЊрЃљрЃљрЃЎрЃЮрЃърЃўрЃарЃћрЃЌ **Signing secret**. **рЃћрЃАрЃћрЃф рЃАрЃљрЃўрЃЊрЃБрЃЏрЃџрЃЮрЃљ!**

### рЃюрЃљрЃЉрЃўрЃ»рЃў 3: Google AI Studio-рЃА рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃљ

1.  рЃерЃћрЃЊрЃўрЃЌ [Google AI Studio](https://aistudio.google.com/)-рЃќрЃћ.
2.  рЃЊрЃљрЃљрЃГрЃўрЃарЃћрЃЌ **Get API key > Create API key in new project**.
3.  рЃЊрЃљрЃљрЃЎрЃЮрЃърЃўрЃарЃћрЃЌ API рЃњрЃљрЃАрЃљрЃдрЃћрЃЉрЃў. **рЃћрЃА рЃљрЃарЃўрЃА рЃАрЃљрЃўрЃЊрЃБрЃЏрЃџрЃЮ!**

### рЃюрЃљрЃЉрЃўрЃ»рЃў 4: рЃърЃарЃЮрЃћрЃЦрЃбрЃўрЃА Netlify-рЃќрЃћ рЃњрЃљрЃерЃЋрЃћрЃЉрЃљ

1.  **рЃљрЃбрЃЋрЃўрЃарЃЌрЃћрЃЌ рЃЎрЃЮрЃЊрЃў GitHub-рЃќрЃћ:** рЃерЃћрЃЦрЃЏрЃћрЃюрЃўрЃЌ рЃљрЃ«рЃљрЃџрЃў рЃарЃћрЃърЃЮрЃќрЃўрЃбрЃЮрЃарЃўрЃљ рЃЊрЃљ рЃљрЃбрЃЋрЃўрЃарЃЌрЃћрЃЌ рЃърЃарЃЮрЃћрЃЦрЃбрЃўрЃА рЃДрЃЋрЃћрЃџрЃљ рЃцрЃљрЃўрЃџрЃў.
2.  **рЃърЃарЃЮрЃћрЃЦрЃбрЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃљ Netlify-рЃќрЃћ:**
    -   Netlify-рЃќрЃћ рЃЊрЃљрЃљрЃГрЃўрЃарЃћрЃЌ **Add new site > Import an existing project**.
    -   рЃљрЃўрЃарЃЕрЃўрЃћрЃЌ рЃЌрЃЦрЃЋрЃћрЃюрЃў GitHub рЃарЃћрЃърЃЮрЃќрЃўрЃбрЃЮрЃарЃўрЃљ.
3.  **Build Settings:**
    -   **Build command:** `npm install && tsc`
    -   **Publish directory:** `.`
4.  **рЃњрЃљрЃарЃћрЃЏрЃЮрЃА рЃфрЃЋрЃџрЃљрЃЊрЃћрЃЉрЃўрЃА (Environment Variables) рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃљ:**
    -   рЃърЃарЃЮрЃћрЃЦрЃбрЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ, рЃњрЃљрЃЊрЃљрЃЊрЃўрЃЌ **Site configuration > Build & deploy > Environment variables**.
    -   рЃЊрЃљрЃљрЃЏрЃљрЃбрЃћрЃЌ рЃДрЃЋрЃћрЃџрЃљ рЃЌрЃЦрЃЋрЃћрЃюрЃў рЃАрЃљрЃўрЃЊрЃБрЃЏрЃџрЃЮ рЃњрЃљрЃАрЃљрЃдрЃћрЃЉрЃў:
        -   `API_KEY` (Google Gemini-рЃА рЃњрЃљрЃАрЃљрЃдрЃћрЃЉрЃў)
        -   `STRIPE_SECRET_KEY` (Stripe-рЃўрЃА рЃАрЃљрЃўрЃЊрЃБрЃЏрЃџрЃЮ рЃњрЃљрЃАрЃљрЃдрЃћрЃЉрЃў)
        -   `STRIPE_WEBHOOK_SECRET` (Stripe-рЃўрЃА webhook-рЃўрЃА рЃАрЃљрЃўрЃЊрЃБрЃЏрЃџрЃЮ)
        -   `SUPABASE_URL` (Supabase-рЃўрЃА рЃърЃарЃЮрЃћрЃЦрЃбрЃўрЃА рЃЏрЃўрЃАрЃљрЃЏрЃљрЃарЃЌрЃў)
        -   `SUPABASE_SERVICE_ROLE_KEY` (Supabase-рЃўрЃА `service_role` рЃњрЃљрЃАрЃљрЃдрЃћрЃЉрЃў)
5.  **Deploy:** рЃЊрЃљрЃљрЃГрЃўрЃарЃћрЃЌ **Deploy site**.

### рЃюрЃљрЃЉрЃўрЃ»рЃў 5: рЃАрЃљрЃЉрЃЮрЃџрЃЮрЃЮ рЃЎрЃљрЃЋрЃерЃўрЃарЃћрЃЉрЃўрЃА рЃЊрЃљрЃЏрЃДрЃљрЃарЃћрЃЉрЃљ

1.  **рЃерЃћрЃљрЃЋрЃАрЃћрЃЌ Stripe Price ID-рЃћрЃЉрЃў:**
    -   рЃњрЃљрЃ«рЃАрЃћрЃюрЃўрЃЌ `netlify/functions/create-stripe-checkout.ts` рЃЊрЃљ `price_YOUR_..._ID`-рЃћрЃЉрЃўрЃА рЃюрЃљрЃфрЃЋрЃџрЃљрЃЊ рЃЕрЃљрЃАрЃЋрЃўрЃЌ Stripe-рЃЊрЃљрЃю рЃљрЃдрЃћрЃЉрЃБрЃџрЃў **Price ID**-рЃћрЃЉрЃў.
    -   **рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЋрЃљрЃюрЃўрЃљ:** рЃљрЃЏ рЃфрЃЋрЃџрЃўрЃџрЃћрЃЉрЃћрЃЉрЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ, рЃ«рЃћрЃџрЃљрЃ«рЃџрЃљ рЃљрЃбрЃЋрЃўрЃарЃЌрЃћрЃЌ рЃЎрЃЮрЃЊрЃў GitHub-рЃќрЃћ.
2.  **рЃњрЃљрЃюрЃљрЃљрЃ«рЃџрЃћрЃЌ Stripe Webhook:**
    -   рЃЊрЃљрЃљрЃЎрЃЮрЃърЃўрЃарЃћрЃЌ рЃЌрЃЦрЃЋрЃћрЃюрЃў Netlify рЃАрЃљрЃўрЃбрЃўрЃА рЃЏрЃўрЃАрЃљрЃЏрЃљрЃарЃЌрЃў.
    -   рЃЊрЃљрЃЉрЃарЃБрЃюрЃЊрЃўрЃЌ Stripe-рЃўрЃА Webhook-рЃўрЃА рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃерЃў рЃЊрЃљ **Endpoint URL** рЃЋрЃћрЃџрЃерЃў рЃЕрЃљрЃАрЃЋрЃўрЃЌ `https://YOUR-SITE.netlify.app/.netlify/functions/stripe-webhook`. рЃерЃћрЃўрЃюрЃљрЃ«рЃћрЃЌ.

###рЃњрЃўрЃџрЃЮрЃфрЃљрЃЋрЃЌ! ­ЪјЅ
рЃЌрЃЦрЃЋрЃћрЃюрЃў рЃърЃарЃЮрЃћрЃЦрЃбрЃў рЃАрЃарЃБрЃџрЃљрЃЊ рЃцрЃБрЃюрЃЦрЃфрЃўрЃЮрЃюрЃљрЃџрЃБрЃарЃўрЃљ.